{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>QR de acceso · {{ camera.name }}</title>
    <link rel="stylesheet" href="{% static 'home.css' %}">
    <style>
        body {
            background:#0b1120;
            color:#e5e7eb;
            font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
            margin:0;
            min-height:100vh;
            display:flex;
            align-items:center;
            justify-content:center;
        }
        .qr-card {
            background:#020617;
            border-radius:20px;
            padding:24px 28px;
            box-shadow:0 20px 40px rgba(0,0,0,0.7);
            max-width:420px;
            width:100%;
            text-align:center;
        }
        .qr-card h1 {
            margin-top:0;
            margin-bottom:4px;
            font-size:1.4rem;
        }
        .qr-card p.subtitle {
            margin-top:0;
            margin-bottom:16px;
            opacity:.8;
            font-size:0.9rem;
        }
        .qr-card img {
            background:#fff;
            padding:10px;
            border-radius:16px;
            max-width:260px;
            width:100%;
        }
        .meta {
            margin-top:14px;
            font-size:0.85rem;
            opacity:.85;
        }
        .meta span {
            display:block;
        }
        .btn-row {
            margin-top:18px;
            display:flex;
            flex-direction:column;
            gap:8px;
        }
        .btn-row a {
            display:inline-flex;
            justify-content:center;
            align-items:center;
            padding:9px 14px;
            border-radius:999px;
            text-decoration:none;
            font-size:0.9rem;
            font-weight:500;
        }
        .primary-link {
            background:#22c55e;
            color:#020617;
        }
        .secondary-link {
            border:1px solid #4b5563;
            color:#e5e7eb;
        }
    </style>
</head>
<body>
    <div class="qr-card">
        <h1>Acceso seguro a {{ camera.name }}</h1>
        <p class="subtitle">
            Escanea este código desde otro dispositivo para ver la transmisión protegida.
        </p>
        <img src="{{ qr_url }}" alt="QR de acceso a {{ camera.name }}">

        <div class="meta">
            <span>Válido hasta: {{ expires_at }}</span>
        </div>

        <div class="btn-row">
            <a href="{{ stream_url }}" class="primary-link" target="_blank">Abrir transmisión en este dispositivo</a>
            <a href="{% url 'cameras:camera_list' %}" class="secondary-link">Volver al panel de cámaras</a>
        </div>
    </div>
</body>
</html>
